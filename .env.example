# Kusto Configuration
# Authentication Method
# Options: azure-identity, azure-cli, managed-identity, client-secret, client-certificate, 
#          interactive-browser, device-code, username-password, environment
# Default: azure-identity
KUSTO_AUTH_METHOD=azure-identity

# Query Configuration
KUSTO_QUERY_TIMEOUT=60000           # Timeout in milliseconds (default: 60000)
KUSTO_RESPONSE_FORMAT=json          # Options: json, markdown (default: json)
KUSTO_MARKDOWN_MAX_CELL_LENGTH=1000 # Maximum characters per table cell (default: 1000)

# Auto-connection Configuration (Optional)
# If both are provided, the server will automatically connect on startup
# KUSTO_CLUSTER_URL=https://your-cluster.kusto.windows.net
# KUSTO_DEFAULT_DATABASE=your-database-name

# Global response size limiting
KUSTO_MAX_RESPONSE_LENGTH=12000 # Maximum characters for entire MCP response (default: 12000)
KUSTO_MIN_RESPONSE_ROWS=1       # Minimum rows to return when data exists (default: 1)

# OpenTelemetry Configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317/v1/traces

# ===== Azure Authentication Configuration =====
# Different authentication methods require different environment variables.
# Uncomment and configure only the variables needed for your chosen KUSTO_AUTH_METHOD.

# --- For Managed Identity (managed-identity) ---
# Optional: Specify client ID for user-assigned managed identity
# AZURE_CLIENT_ID=your-managed-identity-client-id

# --- For Client Secret (client-secret) ---
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_SECRET=your-client-secret

# --- For Client Certificate (client-certificate) ---
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_CLIENT_CERTIFICATE_PATH=/path/to/certificate.pem
# AZURE_CLIENT_CERTIFICATE_PASSWORD=your-cert-password  # Optional

# --- For Interactive Browser (interactive-browser) ---
# AZURE_TENANT_ID=your-tenant-id  # Optional
# AZURE_CLIENT_ID=your-client-id  # Optional

# --- For Device Code (device-code) ---
# AZURE_TENANT_ID=your-tenant-id  # Optional
# AZURE_CLIENT_ID=your-client-id  # Optional

# --- For Username/Password (username-password) ---
# Not recommended for production use. Only works without MFA.
# AZURE_TENANT_ID=your-tenant-id
# AZURE_CLIENT_ID=your-client-id
# AZURE_USERNAME=your-username
# AZURE_PASSWORD=your-password

# --- For Environment Credential (environment) ---
# Uses standard Azure environment variables. Configure either:
# Client Secret: AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_SECRET
# Client Certificate: AZURE_TENANT_ID, AZURE_CLIENT_ID, AZURE_CLIENT_CERTIFICATE_PATH

# --- For Azure CLI (azure-cli) ---
# No additional environment variables needed. Just run: az login

# --- For Azure Identity / DefaultAzureCredential (azure-identity) ---
# No additional environment variables needed. It tries multiple methods automatically.
# However, you can set the above environment variables to control which methods are available.

